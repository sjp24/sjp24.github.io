<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SJP</title>
  
  
  <link href="http://sjp24.github.io/atom.xml" rel="self"/>
  
  <link href="http://sjp24.github.io/"/>
  <updated>2021-12-22T15:14:46.012Z</updated>
  <id>http://sjp24.github.io/</id>
  
  <author>
    <name>Song Park</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Google Colab 101: Using Both R &amp; Python</title>
    <link href="http://sjp24.github.io/2021/12/21/20211221-colab-r-and-python/"/>
    <id>http://sjp24.github.io/2021/12/21/20211221-colab-r-and-python/</id>
    <published>2021-12-20T15:00:00.000Z</published>
    <updated>2021-12-22T15:14:46.012Z</updated>
    
    <content type="html"><![CDATA[<p>Undeniably, best practice is to only use one language in a notebook, particularly when collaborating with others. However, if you’re familiar with both R &amp; Python you’re bound to come across moments when you wish you could do something in the other language whether it’s because you can do something in one language but not the other, or you can accomplish it in the given language but it’s much simpler to do in the other.</p><p>Fortunately, Colab allows you to use both R &amp; Python in the same notebook!</p><span id="more"></span><p>(FYI — if you just want to use R you can create a Colab R notebook through this link: <a href="https://colab.research.google.com/#create=true&amp;language=r">https://colab.research.google.com/#create=true&amp;language=r</a>)</p><img src="https://lh3.googleusercontent.com/pw/AM-JKLUQcFQaota_68q6YjdYQPg-A2FZ7-y_SDJDQ_PQUxmE000camVhGvIseLm7iGkv4iI8VyCxDP_CHyuwH_6Rrn-augd2Ne4NY0LoX8VoR45XfsIDJOjfL1ICzrG54sFSVCuHj-egtb9ttR_8T42fkFgHmg=w776-h343-no?authuser=0" class=""><hr><h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><p>To start, run this code to load R:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%load_ext rpy2.ipython</span><br></pre></td></tr></table></figure><h2 id="Running-R-Code-Basics"><a href="#Running-R-Code-Basics" class="headerlink" title="Running R Code: Basics"></a>Running R Code: Basics</h2><p>Afterwards, all cells will be Python cells by default but you can run R code using two different methods: <strong>cell magic</strong> &amp; <strong>line magic</strong>.</p><p><strong>Cell magic</strong>: running an entire cell as R code. To run cell magic, place the following code in the first line of the cell. All code within the cell will then be run as R code.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%%R</span><br></pre></td></tr></table></figure><p><strong>Line magic</strong>: running a single line within a cell as R code. Place the following code within a cell and all following code within the same line will be run as R code.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%R</span><br></pre></td></tr></table></figure><h2 id="Tip-1-Copying-Dataframes-Between-R-amp-Python"><a href="#Tip-1-Copying-Dataframes-Between-R-amp-Python" class="headerlink" title="Tip #1: Copying Dataframes Between R &amp; Python"></a>Tip #1: Copying Dataframes Between R &amp; Python</h2><p>By default, if a dataframe is created within the R language, Python cannot recognize the dataframe. Therefore, to work with a single dataframe across the the two languages the dataframe needs to be duplicated from one language to the other.<br>Given a dataframe named <strong>df</strong>, use cell magic (not line magic!) and run the code below.</p><h5 id="Python-→-R"><a href="#Python-→-R" class="headerlink" title="Python → R"></a>Python → R</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%R -i df</span><br></pre></td></tr></table></figure><h5 id="R-→-Python"><a href="#R-→-Python" class="headerlink" title="R → Python"></a>R → Python</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%R -o df</span><br></pre></td></tr></table></figure><h5 id="Copying-Multiple-Dataframes"><a href="#Copying-Multiple-Dataframes" class="headerlink" title="Copying Multiple Dataframes"></a>Copying Multiple Dataframes</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Python to R</span><br><span class="line">%R -i df -i df2</span><br><span class="line"></span><br><span class="line">#R to Python</span><br><span class="line">%R -o df -o df2</span><br></pre></td></tr></table></figure><h2 id="Tip-2-Copying-an-R-Variable-to-Python"><a href="#Tip-2-Copying-an-R-Variable-to-Python" class="headerlink" title="Tip #2: Copying an R Variable to Python"></a>Tip #2: Copying an R Variable to Python</h2><p>Line magic runs code within the same line following %R, therefore you can use line magic as below to copy an R variable to Python.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = %R x</span><br></pre></td></tr></table></figure><hr><p>To close off, here is a link to a Colab notebook with some very quick, basic examples of mixing Python &amp; R: <a href="https://colab.research.google.com/drive/1MKFJ6LyWAMQ6JBewbeuk8sI6ne-jbMN2?usp=sharing" title="Title">Example Colab Notebook</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Undeniably, best practice is to only use one language in a notebook, particularly when collaborating with others. However, if you’re familiar with both R &amp;amp; Python you’re bound to come across moments when you wish you could do something in the other language whether it’s because you can do something in one language but not the other, or you can accomplish it in the given language but it’s much simpler to do in the other.&lt;/p&gt;
&lt;p&gt;Fortunately, Colab allows you to use both R &amp;amp; Python in the same notebook!&lt;/p&gt;</summary>
    
    
    
    <category term="Guides" scheme="http://sjp24.github.io/categories/Guides/"/>
    
    
    <category term="Colab" scheme="http://sjp24.github.io/tags/Colab/"/>
    
    <category term="R" scheme="http://sjp24.github.io/tags/R/"/>
    
    <category term="Python" scheme="http://sjp24.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>데이터의 흐름: 기본적인 데이터 파이프라인 개념 설명</title>
    <link href="http://sjp24.github.io/2021/06/17/20211221-basic-pipeline/"/>
    <id>http://sjp24.github.io/2021/06/17/20211221-basic-pipeline/</id>
    <published>2021-06-16T15:00:00.000Z</published>
    <updated>2021-12-22T15:14:36.050Z</updated>
    
    <content type="html"><![CDATA[<p>스타트업계로 오게 된 후로는 데이터 파이프라인이 얼마나 중요한지 뼈저리게 느끼고 있습니다. 데이터베이스 지식, 데이터 파이프라인 지식을 가지고 있는 게 중요하다고 생각해서 전부터 배우려고 노력은 했지만 역시 산전수전 다 직접 겪어봐야 빠르게 성장 할 수 있습니다 😅</p><p>저도 아직 많이 부족하지만, 데이터 외 직군 혹은 데이터를 다루지만 데이터 파이프라인에 대한 지식이 부족한 분들을 위해 아주 기본적인 개념들을 설명하려 합니다.</p><span id="more"></span><hr><h2 id="기본-용어"><a href="#기본-용어" class="headerlink" title="기본 용어"></a>기본 용어</h2><p>비슷하지만 조금씩 다른 파이프라인 관련 용어.</p><p><strong>ETL (Extract, Transform, Load)</strong>: 데이터를 추출하고(extract) → 변환하여 (transform) → 적재하는 (load) 데이터 웨어하우스 구축 프로세스</p><p><strong>ELT (Extract, Load, Transform)</strong>: 데이터를 추출하고 (extract) → 적재하고 (load) → 변환하는 (transform) 프로세스</p><p><strong>Data Warehouse (DW)</strong>: 다양한 소스에서 발생한 데이터를 하나의 통합된 형태로 저장하는 공간. 데이터는 설계된 스키마에 맞게 처리되어 저장된다</p><p><strong>Data Lake</strong>: 다양한 소스에서 발생한 데이터를 그대로 가져와 저장하는 공간. 데이터 웨어하우스와 달리 정형/반정형/비정형 데이터 등 다양한 형태의 소스 raw 데이터를 통합하지 않고 한 곳에 모은다</p><p><strong>Data Mart</strong>: 특정 목적 (대체로 팀/부서와 같은 조직 단위)을 위해 만들어진 데이터 웨어하우스. 보통 하나의 데이터 웨어하우스에서 조직 단위별로 여러 데이터 마트가 만들어진다</p><p><strong>Data Pipeline</strong>: 데이터가 흐르는 모든 과정의 총칭 (생성, 변환, 저장, 등)</p><p><strong>RDB (Relational Database)</strong>: 2차원 (속성, 값) 형식 테이블들로 구성된 관계형 데이터베이스. “관계형”이란 각 테이블 안에서 속성과 값 사이 관계가 있고 테이블과 테이블 사이에도 관계를 가지고 있다. 가장 일반적인 데이터베이스 타입이고 일반적으로 SQL (Structured Query Language) 언어를 통해 데이터를 조회한다</p><p><strong>RDBMS (Relational Database Management System)</strong>: 관계형 데이터베이스 관리 (생성, 수정, 등)를 위한 프로그램. 예: MySQL, Oracle, SQL Server, 등등</p><hr><h2 id="기본-ETL-과정"><a href="#기본-ETL-과정" class="headerlink" title="기본 ETL 과정"></a>기본 ETL 과정</h2><p>조직마다 설계가 다르고 구체적인 프로세스는 보기보다 훨씬 복잡하지만, 대부분 아래와 같은 ETL 프로세스를 통해 데이터 웨어하우스를 구축합니다.</p><img src="https://lh3.googleusercontent.com/pw/AM-JKLVqEoT9LETZzeAriZQM4cxYp9Kp7t_MEqPIfkBuk69NmxYsyT8p5if6fn64J6k9cy7oneLOBsfFapXrS9upM0nJTxtkiWcXJYWWzpUzAll0FFWNyoDJSvZc2conN164QAaRnKjToZF4jOUofN4SOMDrhw=w2133-h779-no?authuser=0" class="fig-100"><p><strong>Extract.</strong> 다양한 곳에서 생성된 데이터를 추출하는 단계. 조직마다 소스들은 다르지만 커머스에서는 가장 기본적으로 아래와 같은 데이터 소스들이 있습니다:</p><ul><li>운영 데이터베이스 → 주문, 상품 데이터와 같은 데이터가 담긴 데이터베이스</li><li>웹/앱 이벤트 데이터</li><li>마케팅 데이터 → 페이스북, 구글, 카카오, 등</li><li>사용하는 다른 서드파티 앱 데이터</li></ul><p><strong>Transform.</strong> 소스 데이터가 어떤 형태인지에 따라 이 과정은 많이 달라집니다. 간단한 변환은 각 소스의 날짜 컬럼 형식들을 하나의 기준으로 맞추기, 빈값 처리하는 방식 통일하기와 같은 작업이 있고 보통 테이블들을 조인하고 계산된 필드 만드는 변환이 들어갑니다 → 예: members 테이블에 각 멤버의 구매 이력 관련 컬럼 생성 (첫 구매일, 지난 3개월 총 구매액, 등등). 자주 보는 지표들은 summary 테이블로 만들 수 있습니다 → 예: 일별 거래액, 일별 모든 매체의 총 마케팅 비용 합계.</p><p><strong>Load.</strong> 변환된 데이터를 데이터 웨어하우스에 적재합니다.</p><h2 id="ETL-vs-ELT"><a href="#ETL-vs-ELT" class="headerlink" title="ETL vs ELT"></a>ETL vs ELT</h2><p>ELT는 여러 소스 데이터를 추출하여 바로 raw 형태로 적재 후 변환합니다. 즉, 데이터 레이크에 일단 모든 소스의 데이터를 담고 변환은 스테이징 필요 없이 데이터 레이크/웨어하우스 안에서 이루어집니다. 최신 클라우드 기반 기술로 인해 ETL에 비해 비교적 새로운 기술이고 뜨고 있는 데이터 처리 방식입니다. 이 과정은 적재가 빠르게 이루어진다는 게 장점이지만 유연한 만큼 데이터 신뢰/정합성은 떨어질 수 있습니다.</p><h2 id="Data-Mart"><a href="#Data-Mart" class="headerlink" title="Data Mart"></a>Data Mart</h2><p>큰 규모 조직에서는 조직 단위로 특화된 데이터 마트를 설계하고 각 조직에서 봐야 하는 데이터만 볼 수 있게 권한을 관리합니다. 스타트업이나 더 작은 규모의 조직에서는 비교적 팀/부서와 같은 조직 단위 사이 경계가 덜 명확하기 때문에 조직 단위별 마트 없이 하나의 데이터 웨어하우스를 사용하는 방식이 크게 문제 되지 않을 수 있습니다.<br>하지만 전사 조직용 데이터에 비해 데이터 마트에 있는 테이블들은 유연하게 수정, 변환 작업을 할 수 있기 때문에 빠르게 변하는 스타트업 조직에도 데이터 마트를 잘 활용하면 효율적으로 분석하고 인사이트 얻을 수 있습니다.</p><img src="https://lh3.googleusercontent.com/pw/AM-JKLWZQJGvtMmoyOtAKl8GJ-UcAjMMDR1OE4I5cBSEOSH4CELDL52kAr6TxDZ6LdNI_0qOWQ57MxPmn5laeXtrZL7Qlw5JcTUXRaehO9wIp53D9RDAX_uX954Fs-Eg-4wvt4N6YMxq6yf7NUcKHgRZgarPsw=w2133-h915-no?authuser=0" class="">]]></content>
    
    
    <summary type="html">&lt;p&gt;스타트업계로 오게 된 후로는 데이터 파이프라인이 얼마나 중요한지 뼈저리게 느끼고 있습니다. 데이터베이스 지식, 데이터 파이프라인 지식을 가지고 있는 게 중요하다고 생각해서 전부터 배우려고 노력은 했지만 역시 산전수전 다 직접 겪어봐야 빠르게 성장 할 수 있습니다 😅&lt;/p&gt;
&lt;p&gt;저도 아직 많이 부족하지만, 데이터 외 직군 혹은 데이터를 다루지만 데이터 파이프라인에 대한 지식이 부족한 분들을 위해 아주 기본적인 개념들을 설명하려 합니다.&lt;/p&gt;</summary>
    
    
    
    <category term="Guides" scheme="http://sjp24.github.io/categories/Guides/"/>
    
    
    <category term="Data Pipeline" scheme="http://sjp24.github.io/tags/Data-Pipeline/"/>
    
  </entry>
  
</feed>
